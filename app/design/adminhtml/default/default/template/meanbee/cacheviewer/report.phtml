<?php /** @var Meanbee_CacheViewer_Block_Adminhtml_Report $this */ ?>

<h1>Cache Size: <?php printf("%.2f", $this->getCacheSizeInMb()) ?>mb</h1>
<h1>Percentage Full: <?php echo $this->getCacheFullPercentage() ?>%</h1>
<h1>Cache Backend: <?php echo $this->getCacheBackend() ?></h1>

<table class="cacheview-report">
    <thead>
        <tr>
            <th>Cache ID</th>
            <th>Last Modified</th>
            <th>Expires</th>
            <th>Lifetime</th>
            <th>Size</th>
            <th>Tags</th>
        </tr>
    </thead>
    <tbody>
        <?php $now = time() ?>
        <?php foreach ($this->getCacheItems() as $item): ?>
            <?php /** @var Meanbee_CacheViewer_Model_CacheItemInfo $item */ ?>
            <tr>
                <td><?php echo $item->getId() ?></td>
                <td><?php echo $this->formatDate($item->getModified(), Mage_Core_Model_Locale::FORMAT_TYPE_SHORT, true) ?></td>
                <td><?php echo $this->formatDate($item->getExpires(), Mage_Core_Model_Locale::FORMAT_TYPE_SHORT, true) ?></td>
                <td><?php echo $this->getAsTimeUnits($item->getLifetime($now)) ?></td>
                <td><?php printf("%.2f", $item->getSizeAsKb()) ?>kb</td>
                <td><?php echo join(', ', $item->getTags()) ?></td>
            </tr>
        <?php endforeach ?>
    </tbody>
</table>

<style type="text/css">
    .cacheview-report td, .cacheview-report th {
        padding: 2px;
    }
</style>
